<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Carta para MIMI <3</title>

  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Animate.css -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

  <style>
    body {
      background: url("sakura.jpg") no-repeat center center fixed;
      background-size: cover;
      font-family: "Segoe UI", sans-serif;
      text-align: center;
      overflow: hidden;
    }

    .fade-in {
      opacity: 0;
      transform: translateY(20px);
      animation: aparecer 1.2s ease forwards;
    }

    @keyframes aparecer {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .carta {
      background: #fff0f5;
      padding: 20px;
      border-radius: 15px;
      font-size: 1em;
      color: #333;
      text-align: left;
    }

    .petal {
      position: fixed;
      top: -50px;
      width: 30px;
      height: 30px;
      background-image: url("petalos.png");
      background-size: contain;
      background-repeat: no-repeat;
      opacity: 0.8;
      z-index: 1;
      animation: fall linear infinite;
      pointer-events: none;
    }

    @keyframes fall {
      0% { transform: translateY(0) rotate(0deg); opacity: 0.8; }
      100% { transform: translateY(110vh) rotate(360deg); opacity: 0; }
    }

    .modal-content.animate__animated {
      animation-duration: 1s;
    }
  </style>
</head>
<body onclick="playMusic()">

  <!-- MÃºsica con controles -->
  <div class="container mt-3">
    <label class="form-label text-light">MÃºsica que me recuerda a ti:</label>
    <audio id="musica" controls class="w-100 rounded border">
      <source src="musica.mp3" type="audio/mpeg" />
    </audio>
  </div>

  <!-- Carta principal -->
  <div class="container mt-4 fade-in">
    <div class="card shadow-lg p-4 rounded" style="background-color: rgba(255, 255, 255, 0.9)">
      <h1 class="text-danger mb-3 animate__animated animate__heartBeat">
        ðŸŒ¸ Desde hace tiempo querÃ­a decirte algo... ðŸŒ¸
      </h1>

      <div class="carta text-start">
        <div id="parrafo1"></div>
        <div id="parrafo2"></div>
        <div id="parrafo3"></div>
        <div id="parrafo4" class="fw-bold text-danger"></div>
      </div>

      <!-- Botones ocultos que aparecen despuÃ©s -->
      <div id="botones" class="text-center mt-3" style="display: none;">
        <button class="btn btn-success w-100 mb-3 animate__animated animate__fadeInUp"
          onclick="responder('Prometo nunca fallarte y una lealtad enorme, asÃ­ como un amor incondicional dispuesto a mejorar por ti.', 'https://media.tenor.com/fJ76eNKqvFMAAAAM/pink-heart.gif')">
          La respuesta es SIII
        </button>

        <button class="btn btn-danger w-100 animate__animated animate__fadeInUp"
          onclick="responder('Bueno, entonces mÃ¡ndame un video haciendo un mortal triple para confirmar el NO.', 'https://media.tenor.com/F5qpZHSg_NwAAAAM/ÐºÐ¾Ð»Ð¾Ð±Ð¾Ðºicq.gif')">
          La respuesta es NOOO
        </button>
      </div>
    </div>
  </div>

  <!-- Modal interactivo -->
  <div class="modal fade animate__animated animate__fadeInDown" id="respuestaModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content animate__animated animate__fadeInUp">
        <div class="modal-header bg-light">
          <h5 class="modal-title text-danger">ðŸ’Œ Tu respuesta</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body text-center">
          <div class="fs-4 mb-3" id="modalTexto"></div>
          <img id="modalImagen" src="" class="img-fluid rounded d-none" alt="Respuesta emocional" />
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script>
    function playMusic() {
      const music = document.getElementById("musica");
      music.play().catch(error => {
        console.log("ReproducciÃ³n bloqueada por el navegador:", error);
      });
    }

    function responder(texto, imagenURL) {
      const textoElemento = document.getElementById("modalTexto");
      const imagenElemento = document.getElementById("modalImagen");

      textoElemento.textContent = texto;
      imagenElemento.src = imagenURL;
      imagenElemento.classList.remove("d-none");

      let modal = new bootstrap.Modal(document.getElementById("respuestaModal"));
      modal.show();
    }

    const textos = [
      "Cada momento que paso contigo, cada conversaciÃ³n, cada risa compartida, cada gesto tuyo, me hace sentir algo que no puedo explicar del todo con palabras, pero que sÃ© con certeza: me estoy enamorando de ti cada vez mÃ¡s. No es solo tu forma de ser, tu sonrisa, o tu manera de ver el mundo... es todo tÃº. Conocerte ha sido una de las cosas mÃ¡s bonitas que me ha pasado.",
      "Me inspiras. Me motivas. Me haces querer ser una mejor versiÃ³n de mÃ­ mismo. Cuando estoy contigo siento que todo es posible, que hay mÃ¡s color en la vida, que tengo una razÃ³n mÃ¡s para luchar por mis sueÃ±os. Y esa razÃ³n eres tÃº.",
      "No se trata solo de lo que siento por ti, sino de lo que quiero construir contigo. Quiero acompaÃ±arte en tus dÃ­as buenos y tambiÃ©n en los no tan buenos. Quiero verte feliz, apoyarte, cuidarte y darte lo mejor de mÃ­, no porque me sienta obligado, sino porque nace de mÃ­ hacerlo.",
      "Por todo esto, y con todo mi corazÃ³n, quiero preguntarte: Â¿Te gustarÃ­a que esto escalara a algo mÃ¡s y fuÃ©ramos novios?"
    ];

    function escribirTexto(elementId, texto, delay) {
      const el = document.getElementById(elementId);
      let i = 0;
      setTimeout(() => {
        const interval = setInterval(() => {
          el.innerHTML += texto.charAt(i);
          i++;
          if (i === texto.length) clearInterval(interval);
        }, 40);
      }, delay);
    }

    escribirTexto("parrafo1", textos[0], 0);
    escribirTexto("parrafo2", textos[1], 15100);
    escribirTexto("parrafo3", textos[2], 24100);
    escribirTexto("parrafo4", textos[3], 35000);

    // PÃ©talos flotantes
    const cantidadPetalos = 20;
    for (let i = 0; i < cantidadPetalos; i++) {
      const petal = document.createElement("div");
      petal.classList.add("petal");
      petal.style.left = `${Math.random() * 100}vw`;
      petal.style.animationDuration = `${6 + Math.random() * 4}s`;
      petal.style.animationDelay = `${Math.random() * 4}s`;
      document.body.appendChild(petal);
    }

    // Mostrar botones despuÃ©s de mÃ¡quina de escribir
    setTimeout(() => {
      const botones = document.getElementById("botones");
      botones.style.display = "block";
    }, 38700);
  </script>
</body>
</html>
